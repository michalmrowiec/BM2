@page "/accounts"
@using BM2.Shared.DTOs
@rendermode InteractiveAuto

<h3>Accounts</h3>

<MudButton @onclick="OpenAddAccountDialogAsync"
           Variant="Variant.Filled"
           Color="Color.Primary">
    Add account
</MudButton>

<MudDataGrid T="AccountDTO" Items="@AccountList">
    <Columns>
        <PropertyColumn Title="Wallet" Property="x => x.Wallet.WalletName" />
        <PropertyColumn Title="Name" Property="x => x.AccountName" />
        <PropertyColumn Title="Is active" Property="x => x.IsActive"  />
        <PropertyColumn Title="Currency" Property="x => x.DefaultCurrency" SortBy="x => x.DefaultCurrency!.Name">
            <CellTemplate>
                @string.Concat($"[{context.Item.DefaultCurrency?.IsoCode}] {context.Item.DefaultCurrency?.Name}")
            </CellTemplate>
        </PropertyColumn>
    </Columns>
</MudDataGrid>
