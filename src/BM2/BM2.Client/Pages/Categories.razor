@page "/categories"
@using BM2.Shared.DTOs

<h3>Categories</h3>

<MudButton @onclick="OpenAddCategoryDialogAsync"
           Variant="Variant.Filled"
           Color="Color.Primary">
    Add category
</MudButton>

<MudTable Items="CategoryWithWalletRelationList" Hover Bordered>
    <HeaderContent>
        <MudTh>Category Name</MudTh>
        @foreach (var wallet in WalletList)
        {
            <MudTh>@wallet.WalletName</MudTh>
        }
    </HeaderContent>

    <RowTemplate Context="category">
        <MudTd>@category.CategoryName</MudTd>
        @foreach (var relation in category.WalletRelations)
        {
            <MudTd>
                <MudSelect @bind-Value="@relation.Status" Variant="Variant.Text" Dense>
                    <MudSelectItem Value="@RelationStatus.Active">Yes</MudSelectItem>
                    <MudSelectItem Value="@RelationStatus.NotExist">No</MudSelectItem>
                    <MudSelectItem Value="@RelationStatus.Inactive">Blocked</MudSelectItem>
                </MudSelect>
            </MudTd>
        }
    </RowTemplate>
</MudTable>

